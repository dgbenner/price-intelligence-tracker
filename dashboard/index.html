<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Price Intelligence Dashboard - Chronic Condition Supplies</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-inner">
            <div class="header-left">
                <img src="images/trueprice.png" alt="TruePrice" class="header-logo">
                <span class="header-tagline">See through the sales</span>
            </div>

            <div class="header-center">
                <a href="#" class="header-info-link" id="how-it-works-link">
                    <span class="header-info-icon">&#9432;</span>
                    <span class="header-info-text">Learn how we beat the algorithm</span>
                </a>

                <div class="header-categories-wrapper">
                    <button class="category-arrow category-arrow-left" aria-label="Scroll left">&#8249;</button>
                    <div class="header-categories">
                        <a href="#" class="category-card active" data-category="skincare">
                            <span class="category-icon">&#129526;</span>
                            <span class="category-label">Skin Care</span>
                        </a>
                        <a href="#" class="category-card" data-category="respiratory">
                            <span class="category-icon">&#129729;</span>
                            <span class="category-label">Respiratory</span>
                        </a>
                        <a href="#" class="category-card" data-category="allergy">
                            <span class="category-icon">üëÉ</span>
                            <span class="category-label">Allergy</span>
                        </a>
                        <a href="#" class="category-card" data-category="diabetes">
                            <span class="category-icon">&#128137;</span>
                            <span class="category-label">Diabetes</span>
                        </a>
                        <a href="#" class="category-card" data-category="digestive">
                            <span class="category-icon">&#128138;</span>
                            <span class="category-label">Digestive</span>
                        </a>
                        <a href="#" class="category-card" data-category="joint">
                            <span class="category-icon">&#129471;</span>
                            <span class="category-label">Mobility</span>
                        </a>
                        <a href="#" class="category-card" data-category="vision">
                            <span class="category-icon">&#128065;</span>
                            <span class="category-label">Vision</span>
                        </a>
                        <a href="#" class="category-card" data-category="sleep">
                            <span class="category-icon">&#128164;</span>
                            <span class="category-label">Sleep Apnea</span>
                        </a>
                        <a href="#" class="category-card" data-category="pain">
                            <span class="category-icon">ü©π</span>
                            <span class="category-label">Pain Relief</span>
                        </a>
                        <a href="#" class="category-card" data-category="heart">
                            <span class="category-icon">‚ù§Ô∏è</span>
                            <span class="category-label">Heart</span>
                        </a>
                        <a href="#" class="category-card" data-category="oral">
                            <span class="category-icon">ü¶∑</span>
                            <span class="category-label">Oral Care</span>
                        </a>
                        <a href="#" class="category-card" data-category="hair">
                            <span class="category-icon">üíá</span>
                            <span class="category-label">Hair + Scalp</span>
                        </a>
                        <a href="#" class="category-card" data-category="incontinence">
                            <span class="category-icon">üíß</span>
                            <span class="category-label">Incontinence</span>
                        </a>
                        <a href="#" class="category-card" data-category="vitamins">
                            <span class="category-icon">üí™</span>
                            <span class="category-label">Vitamins</span>
                        </a>
                        <a href="#" class="category-card" data-category="hearing">
                            <span class="category-icon">üëÇ</span>
                            <span class="category-label">Hearing</span>
                        </a>
                        <a href="#" class="category-card" data-category="foot">
                            <span class="category-icon">ü¶∂</span>
                            <span class="category-label">Foot Care</span>
                        </a>
                        <a href="#" class="category-card" data-category="migraine">
                            <span class="category-icon">üß†</span>
                            <span class="category-label">Migraine</span>
                        </a>
                        <a href="#" class="category-card" data-category="firstaid">
                            <span class="category-icon">‚õëÔ∏è</span>
                            <span class="category-label">First Aid</span>
                        </a>
                    </div>
                    <button class="category-arrow category-arrow-right" aria-label="Scroll right">&#8250;</button>
                </div>
            </div>

            <nav class="header-nav">
                <a href="#" class="header-nav-item">
                    <span class="header-nav-icon">&#9733;</span>
                    <span>Saved Products</span>
                </a>
                <a href="#" class="header-nav-item">
                    <span class="header-nav-icon">&#128276;</span>
                    <span>Alerts</span>
                </a>
                <a href="#" class="header-nav-item">
                    <span class="header-nav-icon">&#128100;</span>
                    <span>Profile</span>
                </a>
            </nav>
        </div>
    </header>

    <main id="dashboard">
        <!-- Brand containers will be dynamically inserted here -->
    </main>

    <!-- Savings Calculator Modal -->
    <div id="savings-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Savings Calculator</h2>
            <div id="modal-body">
                <p id="savings-calculation"></p>
                <div class="dca-explanation">
                    <p><strong>What is Dollar Cost Averaging?</strong></p>
                    <p>Dollar cost averaging means buying regularly at the average price over time, rather than trying to time the market for the absolute lowest price. By tracking prices and buying at the best average price point, you minimize cost while maintaining a consistent supply.</p>
                    <a href="https://www.investopedia.com/terms/d/dollarcostaveraging.asp" target="_blank" rel="noopener">Learn more about dollar cost averaging</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div id="add-product-modal" class="modal">
        <div class="modal-content add-product-modal-content">
            <span class="close">&times;</span>
            <h2 id="add-product-brand-name"></h2>
            <div class="add-product-list">
                <!-- Product options will be populated dynamically -->
            </div>
            <div class="add-product-footer">
                <button class="add-product-cancel">Cancel</button>
                <button class="add-product-save">Save</button>
            </div>
        </div>
    </div>

    <!-- How It Works Modal -->
    <div id="how-it-works-modal" class="modal">
        <div class="modal-content how-it-works-modal-content">
            <span class="close">&times;</span>
            <h2>How TruePrice Beats the Algorithm</h2>
            <div class="how-it-works-body">
                <p>
                    Retailers use dynamic pricing, inflated "was" prices, flash sales, and
                    subscribe-and-save offers to obscure what products actually cost&nbsp;&mdash;
                    so you buy on impulse instead of information.
                </p>
                <p>
                    TruePrice tracks real prices across multiple retailers over time, revealing
                    the true typical value of every product. You see exactly what something costs
                    on average&nbsp;&mdash; and whether today's price is genuinely worth acting on.
                </p>
            </div>
        </div>
    </div>

    <!-- Template for brand container -->
    <template id="brand-container-template">
        <section class="brand-container">
            <div class="brand-header">
                <div class="brand-header-left">
                    <h2 class="brand-name"></h2>
                    <button class="add-product-btn" aria-label="Add a product">+ Add Product</button>
                </div>
                <button class="collapse-toggle" aria-label="Toggle products">‚ñº</button>
            </div>
            <div class="products-wrapper">
                <!-- Products will be inserted here -->
            </div>
        </section>
    </template>

    <!-- Template for product row -->
    <template id="product-row-template">
        <article class="product-row">
            <div class="product-summary">
                <div class="product-image-wrapper">
                    <img class="product-image" src="" alt="">
                    <span class="product-size-tag"></span>
                </div>
                <h3 class="product-name"></h3>
                <div class="callout-pair">
                    <div class="callout-card callout-best-price">
                        <div class="callout-header">
                            <span class="callout-check">‚úì</span>
                            <span class="callout-label">Today's Best Price</span>
                            <button class="callout-info" aria-label="About today's best price">‚ìò</button>
                        </div>
                        <div class="callout-body">
                            <img class="callout-retailer-logo" src="" alt="">
                            <span class="callout-price"></span>
                        </div>
                        <a href="#" class="savings-link">How much can I save?</a>
                        <div class="callout-tooltip hidden">
                            Today's best price shows the lowest current price among all tracked retailers for this product.
                        </div>
                    </div>
                    <div class="callout-card callout-best-value">
                        <div class="callout-header">
                            <span class="callout-check">‚úì</span>
                            <span class="callout-label">Consistent Best Value</span>
                            <button class="callout-info" aria-label="About consistent best value">‚ìò</button>
                        </div>
                        <div class="callout-body">
                            <img class="callout-retailer-logo" src="" alt="">
                            <span class="callout-price"></span>
                        </div>
                        <span class="callout-subtitle"></span>
                        <div class="callout-tooltip hidden">
                            Consistent best value is determined by the lowest average price across all tracked time periods.
                        </div>
                    </div>
                    <div class="callout-card callout-lowest-ever">
                        <div class="callout-header">
                            <span class="callout-marker">üèÜ</span>
                            <span class="callout-label">Lowest Price Ever</span>
                        </div>
                        <div class="callout-body">
                            <img class="callout-retailer-logo" src="" alt="">
                            <span class="callout-price"></span>
                        </div>
                        <span class="callout-subtitle"></span>
                    </div>
                </div>
            </div>

            <div class="price-chart-wrapper">
                <div class="time-range-controls">
                    <button class="range-btn active" data-range="all">All</button>
                    <button class="range-btn" data-range="7">7d</button>
                    <button class="range-btn" data-range="30">30d</button>
                    <button class="range-btn" data-range="60">60d</button>
                    <button class="range-btn" data-range="90">90d</button>
                </div>
                <canvas class="price-chart"></canvas>
                <div class="chart-legend"></div>
                <div class="trend-insights">
                    <div class="insights-header">
                        <span class="insights-title">Emerging Patterns & Insights</span>
                        <span class="insights-badge">Beta</span>
                    </div>
                    <div class="insights-scroll">
                        <!-- Insight cards will be inserted here -->
                    </div>
                </div>
            </div>

            <div class="retailer-stats">
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Retailer</th>
                            <th class="th-price">High</th>
                            <th class="th-price">Low</th>
                            <th class="th-price">Avg</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Retailer rows will be inserted here -->
                    </tbody>
                </table>
            </div>
        </article>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
